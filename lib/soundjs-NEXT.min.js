/**
* SoundJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011 gskinner.com, inc.
* 
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
**/
this.createjs=this.createjs||{};
(function(){var c=function(a,b,c){this.initialize(a,b,c)},b=c.prototype;b.type=null;b.target=null;b.currentTarget=null;b.eventPhase=0;b.bubbles=!1;b.cancelable=!1;b.timeStamp=0;b.defaultPrevented=!1;b.propagationStopped=!1;b.immediatePropagationStopped=!1;b.removed=!1;b.initialize=function(a,b,c){this.type=a;this.bubbles=b;this.cancelable=c;this.timeStamp=(new Date).getTime()};b.preventDefault=function(){this.defaultPrevented=!0};b.stopPropagation=function(){this.propagationStopped=!0};b.stopImmediatePropagation=
function(){this.immediatePropagationStopped=this.propagationStopped=!0};b.remove=function(){this.removed=!0};b.clone=function(){return new c(this.type,this.bubbles,this.cancelable)};b.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},b=c.prototype;c.initialize=function(a){a.addEventListener=b.addEventListener;a.on=b.on;a.removeEventListener=a.off=b.removeEventListener;a.removeAllEventListeners=b.removeAllEventListeners;a.hasEventListener=b.hasEventListener;a.dispatchEvent=b.dispatchEvent;a._dispatchEvent=b._dispatchEvent};b._listeners=null;b._captureListeners=null;b.initialize=function(){};b.addEventListener=function(a,b,c){var d;d=c?this._captureListeners=this._captureListeners||
{}:this._listeners=this._listeners||{};var f=d[a];f&&this.removeEventListener(a,b,c);(f=d[a])?f.push(b):d[a]=[b];return b};b.on=function(a,b,c,d,f,g){b.handleEvent&&(c=c||b,b=b.handleEvent);c=c||this;return this.addEventListener(a,function(a){b.call(c,a,f);d&&a.remove()},g)};b.removeEventListener=function(a,b,c){if(c=c?this._captureListeners:this._listeners){var d=c[a];if(d)for(var f=0,g=d.length;f<g;f++)if(d[f]==b){1==g?delete c[a]:d.splice(f,1);break}}};b.off=b.removeEventListener;b.removeAllEventListeners=
function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};b.dispatchEvent=function(a,b){if("string"==typeof a){var c=this._listeners;if(!c||!c[a])return!1;a=new createjs.Event(a)}a.target=b||this;if(!a.bubbles||!this.parent)this._dispatchEvent(a,2);else{for(var d=this,c=[d];d.parent;)c.push(d=d.parent);for(var f=c.length,d=f-1;0<=d&&!a.propagationStopped;d--)c[d]._dispatchEvent(a,1+(0==d));for(d=
1;d<f&&!a.propagationStopped;d++)c[d]._dispatchEvent(a,3)}return a.defaultPrevented};b.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])};b.toString=function(){return"[EventDispatcher]"};b._dispatchEvent=function(a,b){var c,d=1==b?this._captureListeners:this._listeners;if(a&&d&&(d=d[a.type])&&(c=d.length)){a.currentTarget=this;a.eventPhase=b;a.removed=!1;for(var d=d.slice(),f=0;f<c&&!a.immediatePropagationStopped;f++){var g=d[f];g.handleEvent?g.handleEvent(a):
g(a);a.removed&&(this.off(a.type,g,1==b),a.removed=!1)}}};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};(function(){createjs.indexOf=function(c,b){for(var a=0,e=c.length;a<e;a++)if(b===c[a])return a;return-1}})();this.createjs=this.createjs||{};(function(){createjs.proxy=function(c,b){var a=Array.prototype.slice.call(arguments,2);return function(){return c.apply(b,Array.prototype.slice.call(arguments,0).concat(a))}}})();this.createjs=this.createjs||{};
(function(){function c(){throw"Sound cannot be instantiated";}function b(a,b){this.init(a,b)}function a(){}c.DELIMITER="|";c.AUDIO_TIMEOUT=8E3;c.INTERRUPT_ANY="any";c.INTERRUPT_EARLY="early";c.INTERRUPT_LATE="late";c.INTERRUPT_NONE="none";c.PLAY_INITED="playInited";c.PLAY_SUCCEEDED="playSucceeded";c.PLAY_INTERRUPTED="playInterrupted";c.PLAY_FINISHED="playFinished";c.PLAY_FAILED="playFailed";c.SUPPORTED_EXTENSIONS="mp3 ogg mpeg wav m4a mp4 aiff wma mid".split(" ");c.EXTENSION_MAP={m4a:"mp4"};c.FILE_PATTERN=
/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;c.defaultInterruptBehavior=c.INTERRUPT_NONE;c.lastId=0;c.activePlugin=null;c.pluginsRegistered=!1;c.masterVolume=1;c.masterMute=!1;c.instances=[];c.idHash={};c.preloadHash={};c.defaultSoundInstance=null;c.addEventListener=null;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c.sendFileLoadEvent=function(a){if(c.preloadHash[a])for(var b=
0,f=c.preloadHash[a].length;b<f;b++){var e=c.preloadHash[a][b];c.preloadHash[a][b]=!0;if(c.hasEventListener("fileload")){var h=new createjs.Event("fileload");h.src=e.src;h.id=e.id;h.data=e.data;c.dispatchEvent(h)}}};c.getPreloadHandlers=function(){return{callback:createjs.proxy(c.initLoad,c),types:["sound"],extensions:c.SUPPORTED_EXTENSIONS}};c.registerPlugin=function(a){c.pluginsRegistered=!0;return null==a?!1:a.isSupported()?(c.activePlugin=new a,!0):!1};c.registerPlugins=function(a){for(var b=
0,f=a.length;b<f;b++)if(c.registerPlugin(a[b]))return!0;return!1};c.initializeDefaultPlugins=function(){return null!=c.activePlugin?!0:c.pluginsRegistered?!1:c.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1};c.isReady=function(){return null!=c.activePlugin};c.getCapabilities=function(){return null==c.activePlugin?null:c.activePlugin.capabilities};c.getCapability=function(a){return null==c.activePlugin?null:c.activePlugin.capabilities[a]};c.initLoad=function(a,b,f,e,h){a=
c.registerSound(a,f,e,!1,h);return null==a?!1:a};c.registerSound=function(a,d,f,e,h){if(!c.initializeDefaultPlugins())return!1;a instanceof Object&&(h=d,d=a.id,f=a.data,a=a.src);var j=c.parsePath(a,"sound",d,f);if(null==j)return!1;null!=d&&(c.idHash[d]=j.src);var k=null;null!=f&&(isNaN(f.channels)?isNaN(f)||(k=parseInt(f)):k=parseInt(f.channels));var l=c.activePlugin.register(j.src,k);null!=l&&(null!=l.numChannels&&(k=l.numChannels),b.create(j.src,k),null==f||!isNaN(f)?f=j.data=k||b.maxPerChannel():
f.channels=j.data.channels=k||b.maxPerChannel(),null!=l.tag?j.tag=l.tag:l.src&&(j.src=l.src),null!=l.completeHandler&&(j.completeHandler=l.completeHandler),l.type&&(j.type=l.type));!1!=e&&(c.preloadHash[j.src]||(c.preloadHash[j.src]=[]),c.preloadHash[j.src].push({src:a,id:d,data:f}),1==c.preloadHash[j.src].length&&(null==h&&(h=""),c.activePlugin.preload(j.src,l,h)));return j};c.registerManifest=function(a,b){for(var c=[],e=0,h=a.length;e<h;e++)c[e]=createjs.Sound.registerSound(a[e].src,a[e].id,a[e].data,
a[e].preload,b);return c};c.removeSound=function(a){if(null==c.activePlugin)return!1;a instanceof Object&&(a=a.src);a=c.getSrcById(a);a=c.parsePath(a);if(null==a)return!1;a=a.src;for(var d in c.idHash)c.idHash[d]==a&&delete c.idHash[d];b.removeSrc(a);delete c.preloadHash[a];c.activePlugin.removeSound(a);return!0};c.removeManifest=function(a){for(var b=[],c=0,e=a.length;c<e;c++)b[c]=createjs.Sound.removeSound(a[c].src);return b};c.removeAllSounds=function(){c.idHash={};c.preloadHash={};b.removeAll();
c.activePlugin.removeAllSounds()};c.loadComplete=function(a){var b=c.parsePath(a,"sound");a=b?c.getSrcById(b.src):c.getSrcById(a);return!0==c.preloadHash[a][0]};c.parsePath=function(a,b,e,g){"string"!=typeof a&&(a=a.toString());a=a.split(c.DELIMITER);b={type:b||"sound",id:e,data:g};e=c.getCapabilities();g=0;for(var h=a.length;g<h;g++){var j=a[g],k=j.match(c.FILE_PATTERN);if(null==k)return!1;var l=k[4],k=k[5];if(e[k]&&-1<createjs.indexOf(c.SUPPORTED_EXTENSIONS,k))return b.name=l,b.src=j,b.extension=
k,b}return null};c.play=function(a,b,e,g,h,j,k){a=c.createInstance(a);c.playInstance(a,b,e,g,h,j,k)||a.playFailed();return a};c.createInstance=function(a){if(!c.initializeDefaultPlugins())return c.defaultSoundInstance;a=c.getSrcById(a);a=c.parsePath(a,"sound");var d=null;null!=a&&null!=a.src?(b.create(a.src),d=c.activePlugin.create(a.src)):d=c.defaultSoundInstance;d.uniqueId=c.lastId++;return d};c.setVolume=function(a){if(null==Number(a))return!1;a=Math.max(0,Math.min(1,a));c.masterVolume=a;if(!this.activePlugin||
!this.activePlugin.setVolume||!this.activePlugin.setVolume(a))for(var b=this.instances,e=0,g=b.length;e<g;e++)b[e].setMasterVolume(a)};c.getVolume=function(){return c.masterVolume};c.setMute=function(a){if(null==a||void 0==a)return!1;this.masterMute=a;if(!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(a))for(var b=this.instances,c=0,e=b.length;c<e;c++)b[c].setMasterMute(a);return!0};c.getMute=function(){return this.masterMute};c.stop=function(){for(var a=this.instances,
b=a.length;b--;)a[b].stop()};c.playInstance=function(a,b,e,g,h,j,k){b instanceof Object&&(e=b.delay,g=b.offset,h=b.loop,j=b.volume,k=b.pan);b=b||c.defaultInterruptBehavior;null==e&&(e=0);null==g&&(g=a.getPosition());null==h&&(h=0);null==j&&(j=a.volume);null==k&&(k=a.pan);if(0==e){if(!c.beginPlaying(a,b,g,h,j,k))return!1}else e=setTimeout(function(){c.beginPlaying(a,b,g,h,j,k)},e),a.delayTimeoutId=e;this.instances.push(a);return!0};c.beginPlaying=function(a,c,e,g,h,j){return!b.add(a,c)?!1:!a.beginPlaying(e,
g,h,j)?(a=createjs.indexOf(this.instances,a),-1<a&&this.instances.splice(a,1),!1):!0};c.getSrcById=function(a){return null==c.idHash||null==c.idHash[a]?a:c.idHash[a]};c.playFinished=function(a){b.remove(a);a=createjs.indexOf(this.instances,a);-1<a&&this.instances.splice(a,1)};createjs.Sound=c;b.channels={};b.create=function(a,c){return null==b.get(a)?(b.channels[a]=new b(a,c),!0):!1};b.removeSrc=function(a){var c=b.get(a);if(null==c)return!1;c.removeAll();delete b.channels[a];return!0};b.removeAll=
function(){for(var a in b.channels)b.channels[a].removeAll();b.channels={}};b.add=function(a,c){var e=b.get(a.src);return null==e?!1:e.add(a,c)};b.remove=function(a){var c=b.get(a.src);if(null==c)return!1;c.remove(a);return!0};b.maxPerChannel=function(){return e.maxDefault};b.get=function(a){return b.channels[a]};var e=b.prototype;e.src=null;e.max=null;e.maxDefault=100;e.length=0;e.init=function(a,b){this.src=a;this.max=b||this.maxDefault;-1==this.max&&this.max==this.maxDefault;this.instances=[]};
e.get=function(a){return this.instances[a]};e.add=function(a,b){if(!this.getSlot(b,a))return!1;this.instances.push(a);this.length++;return!0};e.remove=function(a){a=createjs.indexOf(this.instances,a);if(-1==a)return!1;this.instances.splice(a,1);this.length--;return!0};e.removeAll=function(){for(var a=this.length-1;0<=a;a--)this.instances[a].stop()};e.getSlot=function(a){for(var b,e,g=0,h=this.max;g<h;g++){b=this.get(g);if(null==b)return!0;if(!(a==c.INTERRUPT_NONE&&b.playState!=c.PLAY_FINISHED))if(0==
g)e=b;else if(b.playState==c.PLAY_FINISHED||b.playState==c.PLAY_INTERRUPTED||b.playState==c.PLAY_FAILED)e=b;else if(a==c.INTERRUPT_EARLY&&b.getPosition()<e.getPosition()||a==c.INTERRUPT_LATE&&b.getPosition()>e.getPosition())e=b}return null!=e?(e.interrupt(),this.remove(e),!0):!1};e.toString=function(){return"[Sound SoundChannel]"};c.defaultSoundInstance=new function(){this.isDefault=!0;this.addEventListener=this.removeEventListener=this.removeAllEventListener=this.dispatchEvent=this.hasEventListener=
this._listeners=this.interrupt=this.playFailed=this.pause=this.resume=this.play=this.beginPlaying=this.cleanUp=this.stop=this.setMasterVolume=this.setVolume=this.mute=this.setMute=this.getMute=this.setPan=this.getPosition=this.setPosition=function(){return!1};this.getVolume=this.getPan=this.getDuration=function(){return 0};this.playState=c.PLAY_FAILED;this.toString=function(){return"[Sound Default Sound Instance]"}};null==createjs.proxy&&(createjs.proxy=function(){throw"Proxy has been moved to an external file, and must be included separately.";
});a.init=function(){var b=navigator.userAgent;a.isFirefox=-1<createjs.indexOf(b,"Firefox");a.isOpera=null!=window.opera;a.isChrome=-1<createjs.indexOf(b,"Chrome");a.isIOS=-1<createjs.indexOf(b,"iPod")||-1<createjs.indexOf(b,"iPhone")||-1<createjs.indexOf(b,"iPad");a.isAndroid=-1<createjs.indexOf(b,"Android");a.isBlackberry=-1<createjs.indexOf(b,"Blackberry")};a.init();createjs.Sound.BrowserDetect=a})();this.createjs=this.createjs||{};
(function(){function c(){this.init()}c.capabilities=null;c.isSupported=function(){var a=createjs.Sound.BrowserDetect.isIOS||createjs.Sound.BrowserDetect.isAndroid||createjs.Sound.BrowserDetect.isBlackberry;if("file:"==location.protocol&&!a&&!this.isFileXHRSupported())return!1;c.generateCapabilities();return null==c.context?!1:!0};c.isFileXHRSupported=function(){var a=!0,b=new XMLHttpRequest;try{b.open("GET","fail.fail",!1)}catch(c){return a=!1}b.onerror=function(){a=!1};b.onload=function(){a=404==
this.status||200==this.status||0==this.status&&""!=this.response};try{b.send()}catch(d){a=!1}return a};c.generateCapabilities=function(){if(null==c.capabilities){var a=document.createElement("audio");if(null==a.canPlayType)return null;if(window.webkitAudioContext)c.context=new webkitAudioContext;else if(window.AudioContext)c.context=new AudioContext;else return null;c.compatibilitySetUp();c.playEmptySound();c.capabilities={panning:!0,volume:!0,tracks:-1};for(var b=createjs.Sound.SUPPORTED_EXTENSIONS,
m=createjs.Sound.EXTENSION_MAP,d=0,f=b.length;d<f;d++){var g=b[d],h=m[g]||g;c.capabilities[g]="no"!=a.canPlayType("audio/"+g)&&""!=a.canPlayType("audio/"+g)||"no"!=a.canPlayType("audio/"+h)&&""!=a.canPlayType("audio/"+h)}2>c.context.destination.numberOfChannels&&(c.capabilities.panning=!1);c.dynamicsCompressorNode=c.context.createDynamicsCompressor();c.dynamicsCompressorNode.connect(c.context.destination);c.gainNode=c.context.createGain();c.gainNode.connect(c.dynamicsCompressorNode)}};c.compatibilitySetUp=
function(){if(!c.context.createGain){c.context.createGain=c.context.createGainNode;var a=c.context.createBufferSource();a.__proto__.start=a.__proto__.noteGrainOn;a.__proto__.stop=a.__proto__.noteOff;this.panningModel=0}};c.playEmptySound=function(){var a=this.context.createBuffer(1,1,22050),b=this.context.createBufferSource();b.buffer=a;b.connect(this.context.destination);b.start(0,0,0)};var b=c.prototype;b.capabilities=null;b.volume=1;b.context=null;b.panningModel="equalpower";b.dynamicsCompressorNode=
null;b.gainNode=null;b.arrayBuffers=null;b.init=function(){this.capabilities=c.capabilities;this.arrayBuffers={};this.context=c.context;this.gainNode=c.gainNode;this.dynamicsCompressorNode=c.dynamicsCompressorNode};b.register=function(a){this.arrayBuffers[a]=!0;return{tag:new createjs.WebAudioPlugin.Loader(a,this)}};b.isPreloadStarted=function(a){return null!=this.arrayBuffers[a]};b.isPreloadComplete=function(a){return!(null==this.arrayBuffers[a]||!0==this.arrayBuffers[a])};b.removeFromPreload=function(a){delete this.arrayBuffers[a]};
b.removeSound=function(a){delete this.arrayBuffers[a]};b.removeAllSounds=function(){this.arrayBuffers={}};b.addPreloadResults=function(a,b){this.arrayBuffers[a]=b};b.handlePreloadComplete=function(){createjs.Sound.sendFileLoadEvent(this.src)};b.preload=function(a,b,c){this.arrayBuffers[a]=!0;a=new createjs.WebAudioPlugin.Loader(a,this);a.onload=this.handlePreloadComplete;null!=c&&(a.src=c+a.src);a.load()};b.create=function(a){this.isPreloadStarted(a)||this.preload(a);return new createjs.WebAudioPlugin.SoundInstance(a,
this)};b.setVolume=function(a){this.volume=a;this.updateVolume();return!0};b.updateVolume=function(){var a=createjs.Sound.masterMute?0:this.volume;a!=this.gainNode.gain.value&&(this.gainNode.gain.value=a)};b.getVolume=function(){return this.volume};b.setMute=function(){this.updateVolume();return!0};b.toString=function(){return"[WebAudioPlugin]"};createjs.WebAudioPlugin=c})();
(function(){function c(a,b){this.init(a,b)}var b=c.prototype;b.src=null;b.uniqueId=-1;b.playState=null;b.owner=null;b.offset=0;b.delay=0;b._volume=1;Object.defineProperty(b,"volume",{get:function(){return this._volume},set:function(a){if(null==Number(a))return!1;this._volume=a=Math.max(0,Math.min(1,a));this.updateVolume()}});b._pan=0;Object.defineProperty(b,"pan",{get:function(){return this._pan},set:function(a){if(!this.owner.capabilities.panning||null==Number(a))return!1;this._pan=a=Math.max(-1,
Math.min(1,a));this.panNode.setPosition(a,0,-0.5)}});b.duration=0;b.remainingLoops=0;b.delayTimeoutId=null;b.soundCompleteTimeout=null;b.panNode=null;b.gainNode=null;b.sourceNode=null;b.sourceNodeNext=null;b.muted=!1;b.paused=!1;b.startTime=0;b.addEventListener=null;b.removeEventListener=null;b.removeAllEventListeners=null;b.dispatchEvent=null;b.hasEventListener=null;b._listeners=null;b.endedHandler=null;b.readyHandler=null;b.stalledHandler=null;b.sendEvent=function(a){a=new createjs.Event(a);this.dispatchEvent(a)};
b.init=function(a,b){this.owner=b;this.src=a;this.panNode=this.owner.context.createPanner();this.panNode.panningModel=this.owner.panningModel;this.gainNode=this.owner.context.createGain();this.gainNode.connect(this.panNode);this.owner.isPreloadComplete(this.src)&&(this.duration=1E3*this.owner.arrayBuffers[this.src].duration);this.endedHandler=createjs.proxy(this.handleSoundComplete,this);this.readyHandler=createjs.proxy(this.handleSoundReady,this);this.stalledHandler=createjs.proxy(this.handleSoundStalled,
this)};b.cleanUp=function(){this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.sourceNode=this.cleanUpAudioNode(this.sourceNode),this.sourceNodeNext=this.cleanUpAudioNode(this.sourceNodeNext));0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(0);clearTimeout(this.delayTimeoutId);clearTimeout(this.soundCompleteTimeout);this.startTime=0;null!=window.createjs&&createjs.Sound.playFinished(this)};b.cleanUpAudioNode=function(a){a&&(a.stop(0),a.disconnect(this.gainNode),
a=null);return a};b.interrupt=function(){this.playState=createjs.Sound.PLAY_INTERRUPTED;this.cleanUp();this.paused=!1;this.sendEvent("interrupted")};b.handleSoundStalled=function(){this.sendEvent("failed")};b.handleSoundReady=function(){if(null!=window.createjs)if(1E3*this.offset>this.getDuration())this.playFailed();else{0>this.offset&&(this.offset=0);this.playState=createjs.Sound.PLAY_SUCCEEDED;this.paused=!1;this.panNode.connect(this.owner.gainNode);var a=this.owner.arrayBuffers[this.src].duration;
this.sourceNode=this.createAndPlayAudioNode(this.owner.context.currentTime-a,this.offset);this.duration=1E3*a;this.startTime=this.sourceNode.startTime-this.offset;this.soundCompleteTimeout=setTimeout(this.endedHandler,1E3*(a-this.offset));0!=this.remainingLoops&&(this.sourceNodeNext=this.createAndPlayAudioNode(this.startTime,0))}};b.createAndPlayAudioNode=function(a,b){var c=this.owner.context.createBufferSource();c.buffer=this.owner.arrayBuffers[this.src];c.connect(this.gainNode);c.startTime=a+c.buffer.duration;
c.start(c.startTime,b,c.buffer.duration-b);return c};b.play=function(a,b,c,d,f,g){this.cleanUp();createjs.Sound.playInstance(this,a,b,c,d,f,g)};b.beginPlaying=function(a,b,c,d){if(null!=window.createjs&&this.src){this.offset=a/1E3;this.remainingLoops=b;this.volume=c;this.pan=d;if(this.owner.isPreloadComplete(this.src))return this.handleSoundReady(null),this.sendEvent("succeeded"),1;this.playFailed()}};b.pause=function(){return!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.paused=
!0,this.offset=this.owner.context.currentTime-this.startTime,this.cleanUpAudioNode(this.sourceNode),this.cleanUpAudioNode(this.sourceNodeNext),0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(),clearTimeout(this.delayTimeoutId),clearTimeout(this.soundCompleteTimeout),!0):!1};b.resume=function(){if(!this.paused)return!1;this.handleSoundReady(null);return!0};b.stop=function(){this.playState=createjs.Sound.PLAY_FINISHED;this.cleanUp();this.offset=0;return!0};b.setVolume=function(a){this.volume=
a;return!0};b.updateVolume=function(){var a=this.muted?0:this._volume;return a!=this.gainNode.gain.value?(this.gainNode.gain.value=a,!0):!1};b.getVolume=function(){return this.volume};b.setMute=function(a){if(null==a||void 0==a)return!1;this.muted=a;this.updateVolume();return!0};b.getMute=function(){return this.muted};b.setPan=function(a){this.pan=a;if(this.pan!=a)return!1};b.getPan=function(){return this.pan};b.getPosition=function(){return 1E3*(this.paused||null==this.sourceNode?this.offset:this.owner.context.currentTime-
this.startTime)};b.setPosition=function(a){this.offset=a/1E3;this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.cleanUpAudioNode(this.sourceNode),this.cleanUpAudioNode(this.sourceNodeNext),clearTimeout(this.soundCompleteTimeout));!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&this.handleSoundReady(null);return!0};b.getDuration=function(){return this.duration};b.handleSoundComplete=function(){this.offset=0;0!=this.remainingLoops?(this.remainingLoops--,
this.sourceNodeNext?(this.cleanUpAudioNode(this.sourceNode),this.sourceNode=this.sourceNodeNext,this.startTime=this.sourceNode.startTime,this.sourceNodeNext=this.createAndPlayAudioNode(this.startTime,0),this.soundCompleteTimeout=setTimeout(this.endedHandler,this.duration)):this.handleSoundReady(null),this.sendEvent("loop")):null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),this.sendEvent("complete"))};b.playFailed=function(){null!=window.createjs&&(this.playState=
createjs.Sound.PLAY_FAILED,this.cleanUp(),this.sendEvent("failed"))};b.toString=function(){return"[WebAudioPlugin SoundInstance]"};createjs.EventDispatcher.initialize(c.prototype);createjs.WebAudioPlugin.SoundInstance=c})();
(function(){function c(a,b){this.init(a,b)}var b=c.prototype;b.request=null;b.owner=null;b.progress=-1;b.src=null;b.originalSrc=null;b.result=null;b.onload=null;b.onprogress=null;b.onError=null;b.init=function(a,b){this.originalSrc=this.src=a;this.owner=b};b.load=function(a){null!=a&&(this.src=a);this.request=new XMLHttpRequest;this.request.open("GET",this.src,!0);this.request.responseType="arraybuffer";this.request.onload=createjs.proxy(this.handleLoad,this);this.request.onError=createjs.proxy(this.handleError,
this);this.request.onprogress=createjs.proxy(this.handleProgress,this);this.request.send()};b.handleProgress=function(a,b){this.progress=a/b;null!=this.onprogress&&this.onprogress({loaded:a,total:b,progress:this.progress})};b.handleLoad=function(){this.owner.context.decodeAudioData(this.request.response,createjs.proxy(this.handleAudioDecoded,this),createjs.proxy(this.handleError,this))};b.handleAudioDecoded=function(a){this.progress=1;this.result=a;this.src=this.originalSrc;this.owner.addPreloadResults(this.src,
this.result);this.onload&&this.onload()};b.handleError=function(a){this.owner.removeSound(this.src);this.onerror&&this.onerror(a)};b.toString=function(){return"[WebAudioPlugin Loader]"};createjs.WebAudioPlugin.Loader=c})();this.createjs=this.createjs||{};
(function(){function c(){this.init()}c.MAX_INSTANCES=30;c.capabilities=null;c.AUDIO_READY="canplaythrough";c.AUDIO_ENDED="ended";c.AUDIO_SEEKED="seeked";c.AUDIO_ERROR="error";c.AUDIO_STALLED="stalled";c.enableIOS=!1;c.isSupported=function(){if(createjs.Sound.BrowserDetect.isIOS&&!c.enableIOS)return!1;c.generateCapabilities();return null==c.tag||null==c.capabilities?!1:!0};c.generateCapabilities=function(){if(null==c.capabilities){var a=c.tag=document.createElement("audio");if(null==a.canPlayType)return null;
c.capabilities={panning:!0,volume:!0,tracks:-1};for(var b=createjs.Sound.SUPPORTED_EXTENSIONS,m=createjs.Sound.EXTENSION_MAP,d=0,f=b.length;d<f;d++){var g=b[d],h=m[g]||g;c.capabilities[g]="no"!=a.canPlayType("audio/"+g)&&""!=a.canPlayType("audio/"+g)||"no"!=a.canPlayType("audio/"+h)&&""!=a.canPlayType("audio/"+h)}}};var b=c.prototype;b.capabilities=null;b.audioSources=null;b.defaultNumChannels=2;b.loadedHandler=null;b.init=function(){this.capabilities=c.capabilities;this.audioSources={}};b.register=
function(a,b){this.audioSources[a]=!0;for(var c=createjs.HTMLAudioPlugin.TagPool.get(a),d=null,f=b||this.defaultNumChannels,g=0;g<f;g++)d=this.createTag(a),c.add(d);d.id=a;this.loadedHandler=createjs.proxy(this.handleTagLoad,this);d.addEventListener&&d.addEventListener("canplaythrough",this.loadedHandler);if(null==d.onreadystatechange)d.onreadystatechange=this.loadedHandler;else{var h=d.onreadystatechange;d.onreadystatechange=function(){h();this.loadedHandler()}}return{tag:d,numChannels:f}};b.handleTagLoad=
function(a){a.target.removeEventListener&&a.target.removeEventListener("canplaythrough",this.loadedHandler);a.target.onreadystatechange=null;a.target.src!=a.target.id&&createjs.HTMLAudioPlugin.TagPool.checkSrc(a.target.id)};b.createTag=function(a){var b=document.createElement("audio");b.autoplay=!1;b.preload="none";b.src=a;return b};b.removeSound=function(a){delete this.audioSources[a];createjs.HTMLAudioPlugin.TagPool.remove(a)};b.removeAllSounds=function(){this.audioSources={};createjs.HTMLAudioPlugin.TagPool.removeAll()};
b.create=function(a){if(!this.isPreloadStarted(a)){var b=createjs.HTMLAudioPlugin.TagPool.get(a),c=this.createTag(a);c.id=a;b.add(c);this.preload(a,{tag:c})}return new createjs.HTMLAudioPlugin.SoundInstance(a,this)};b.isPreloadStarted=function(a){return null!=this.audioSources[a]};b.preload=function(a,b,c){this.audioSources[a]=!0;null!=c&&(b.tag.src=c+a);new createjs.HTMLAudioPlugin.Loader(a,b.tag)};b.toString=function(){return"[HTMLAudioPlugin]"};createjs.HTMLAudioPlugin=c})();
(function(){function c(a,b){this.init(a,b)}var b=c.prototype;b.src=null;b.uniqueId=-1;b.playState=null;b.owner=null;b.loaded=!1;b.offset=0;b.delay=0;b._volume=1;Object.defineProperty(b,"volume",{get:function(){return this._volume},set:function(a){null!=Number(a)&&(this._volume=a=Math.max(0,Math.min(1,a)),this.updateVolume())}});b.pan=0;b.duration=0;b.remainingLoops=0;b.delayTimeoutId=null;b.tag=null;b.muted=!1;b.paused=!1;b.addEventListener=null;b.removeEventListener=null;b.removeAllEventListeners=
null;b.dispatchEvent=null;b.hasEventListener=null;b._listeners=null;b.endedHandler=null;b.readyHandler=null;b.stalledHandler=null;b.loopHandler=null;b.init=function(a,b){this.src=a;this.owner=b;this.endedHandler=createjs.proxy(this.handleSoundComplete,this);this.readyHandler=createjs.proxy(this.handleSoundReady,this);this.stalledHandler=createjs.proxy(this.handleSoundStalled,this);this.loopHandler=createjs.proxy(this.handleSoundLoop,this)};b.sendEvent=function(a){a=new createjs.Event(a);this.dispatchEvent(a)};
b.cleanUp=function(){var a=this.tag;if(null!=a){a.pause();a.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,!1);a.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1);a.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1);try{a.currentTime=0}catch(b){}createjs.HTMLAudioPlugin.TagPool.setInstance(this.src,a);this.tag=null}clearTimeout(this.delayTimeoutId);null!=window.createjs&&createjs.Sound.playFinished(this)};b.interrupt=
function(){null!=this.tag&&(this.playState=createjs.Sound.PLAY_INTERRUPTED,this.cleanUp(),this.paused=!1,this.sendEvent("interrupted"))};b.play=function(a,b,c,d,f,g){this.cleanUp();createjs.Sound.playInstance(this,a,b,c,d,f,g)};b.beginPlaying=function(a,b,c,d){if(null==window.createjs)return-1;var f=this.tag=createjs.HTMLAudioPlugin.TagPool.getInstance(this.src);if(null==f)return this.playFailed(),-1;f.addEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,!1);this.offset=a;this.volume=
c;this.pan=d;this.updateVolume();this.remainingLoops=b;4!==f.readyState?(f.addEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),f.addEventListener(createjs.HTMLAudioPlugin.AUDIO_STALLED,this.stalledHandler,!1),f.preload="auto",f.load()):this.handleSoundReady(null);this.sendEvent("succeeded");return 1};b.handleSoundStalled=function(){this.cleanUp();this.sendEvent("failed")};b.handleSoundReady=function(){null!=window.createjs&&(this.duration=1E3*this.tag.duration,this.playState=
createjs.Sound.PLAY_SUCCEEDED,this.paused=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),this.offset>=this.getDuration()?this.playFailed():(0<this.offset&&(this.tag.currentTime=0.0010*this.offset),-1==this.remainingLoops&&(this.tag.loop=!0),0!=this.remainingLoops&&(this.tag.addEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1),this.tag.loop=!0),this.tag.play()))};b.pause=function(){return!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&
null!=this.tag?(this.paused=!0,this.tag.pause(),clearTimeout(this.delayTimeoutId),!0):!1};b.resume=function(){if(!this.paused||null==this.tag)return!1;this.paused=!1;this.tag.play();return!0};b.stop=function(){this.offset=0;this.pause();this.playState=createjs.Sound.PLAY_FINISHED;this.cleanUp();return!0};b.setMasterVolume=function(){this.updateVolume();return!0};b.setVolume=function(a){this.volume=a;return!0};b.updateVolume=function(){if(null!=this.tag){var a=this.muted||createjs.Sound.masterMute?
0:this._volume*createjs.Sound.masterVolume;a!=this.tag.volume&&(this.tag.volume=a);return!0}return!1};b.getVolume=function(){return this.volume};b.setMasterMute=function(){this.updateVolume();return!0};b.setMute=function(a){if(null==a||void 0==a)return!1;this.muted=a;this.updateVolume();return!0};b.getMute=function(){return this.muted};b.setPan=function(){return!1};b.getPan=function(){return 0};b.getPosition=function(){return null==this.tag?this.offset:1E3*this.tag.currentTime};b.setPosition=function(a){if(null==
this.tag)this.offset=a;else{this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1);try{this.tag.currentTime=0.0010*a}catch(b){return!1}this.tag.addEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1)}return!0};b.getDuration=function(){return this.duration};b.handleSoundComplete=function(){this.offset=0;null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),this.sendEvent("complete"))};b.handleSoundLoop=function(){this.offset=
0;this.remainingLoops--;0==this.remainingLoops&&(this.tag.loop=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1));this.sendEvent("loop")};b.playFailed=function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FAILED,this.cleanUp(),this.sendEvent("failed"))};b.toString=function(){return"[HTMLAudioPlugin SoundInstance]"};createjs.EventDispatcher.initialize(c.prototype);createjs.HTMLAudioPlugin.SoundInstance=c})();
(function(){function c(a,b){this.init(a,b)}var b=c.prototype;b.src=null;b.tag=null;b.preloadTimer=null;b.loadedHandler=null;b.init=function(a,b){this.src=a;this.tag=b;this.preloadTimer=setInterval(createjs.proxy(this.preloadTick,this),200);this.loadedHandler=createjs.proxy(this.sendLoadedEvent,this);this.tag.addEventListener&&this.tag.addEventListener("canplaythrough",this.loadedHandler);if(null==this.tag.onreadystatechange)this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this);else{var c=
this.tag.onreadystatechange;this.tag.onreadystatechange=function(){c();this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this)}}this.tag.preload="auto";this.tag.load()};b.preloadTick=function(){var a=this.tag.buffered,b=this.tag.duration;0<a.length&&a.end(0)>=b-1&&this.handleTagLoaded()};b.handleTagLoaded=function(){clearInterval(this.preloadTimer)};b.sendLoadedEvent=function(){this.tag.removeEventListener&&this.tag.removeEventListener("canplaythrough",this.loadedHandler);this.tag.onreadystatechange=
null;createjs.Sound.sendFileLoadEvent(this.src)};b.toString=function(){return"[HTMLAudioPlugin Loader]"};createjs.HTMLAudioPlugin.Loader=c})();
(function(){function c(a){this.init(a)}c.tags={};c.get=function(a){var b=c.tags[a];null==b&&(b=c.tags[a]=new c(a));return b};c.remove=function(a){var b=c.tags[a];if(null==b)return!1;b.removeAll();delete c.tags[a];return!0};c.removeAll=function(){for(var a in c.tags)c.tags[a].removeAll();c.tags={}};c.getInstance=function(a){a=c.tags[a];return null==a?null:a.get()};c.setInstance=function(a,b){var m=c.tags[a];return null==m?null:m.set(b)};c.checkSrc=function(a){a=c.tags[a];if(null==a)return null;a.checkSrcChange()};
var b=c.prototype;b.src=null;b.length=0;b.available=0;b.tags=null;b.init=function(a){this.src=a;this.tags=[]};b.add=function(a){this.tags.push(a);this.length++;this.available++};b.removeAll=function(){for(;this.length--;)delete this.tags[this.length];this.src=null;this.tags.length=0};b.get=function(){if(0==this.tags.length)return null;this.available=this.tags.length;var a=this.tags.pop();null==a.parentNode&&document.body.appendChild(a);return a};b.set=function(a){-1==createjs.indexOf(this.tags,a)&&
this.tags.push(a);this.available=this.tags.length};b.checkSrcChange=function(){for(var a=this.tags.length-1,b=this.tags[a].src;a--;)this.tags[a].src=b};b.toString=function(){return"[HTMLAudioPlugin TagPool]"};createjs.HTMLAudioPlugin.TagPool=c})();this.createjs=this.createjs||{};(function(){var c=createjs.SoundJS=createjs.SoundJS||{};c.version="NEXT";c.buildDate="Thu, 08 Aug 2013 20:06:31 GMT"})();
